<!doctype html>
<!--
  Course: DATA 300L 111 Spring 2020
  Author: Emma Stevenson, Emily Mohre
-->
<html lang="en">


<head>
  <script src="d3.js"></script>
  <title>Broadway Success</title>
  <meta charset="utf-8" />
  <link href="broadway_proj.css" rel="stylesheet" />

  <script>
    window.onload = () => {
      const boxBroadwayData = [{
          "Broadway Title": "Waitress",
          "Average Gross": 10
        },
        {
          "Broadway Title": "Wicked",
          "Average Gross": 10
        },
        {
          "Broadway Title": "Wicked",
          "Average Gross": 10
        }
      ];

      const averageOfThese = 10;



      const barSpacing = 5;
      const strokeWidth = 2;
      const w = 600;
      const h = 100;
      const barChart = d3.select("#bar-chart").append("svg").attr("width", w).attr("height", h);
      d3.select("#bar-chart").append("figcaption")
        .text("Gross potential data....");

      const bars = barChart
        .selectAll("g")
        .data(boxBroadwayData)
        .enter()
        .append("g");

      bars
        .append("rect")
        .attr("x", strokeWidth)
        .attr("y", (d, i) => i * h / boxBroadwayData.length + strokeWidth)
        .attr("width", d => d["Box Office Earnings"])
        .attr("height", h / boxBroadwayData.length - barSpacing)
        .style("fill", d => {
          const overUnder = d["Box Office Earnings"] - averageOfThese;
          const saturation = Math.round(200 * overUnder / averageOfThese);
          return "hsl(90," + saturation + "%,30%)"; //"hsl(0, 78%, 50%)"
        })
        .style("stroke-width", strokeWidth);

    }

  </script>

</head>


<body>
  <h1>Broadway Success</h1>
  <p>Here are some charts exploring and comparing the success of the top Broadway shows.</p>
  <section>
    <h2>Horizontal Bar Chart</h2>
    <figure id="bar-chart">
    </figure>
  </section>
  <section>
    <h2>Line Graph</h2>
    <figure id="line-chart"></figure>
  </section>

  <section>
    <ul style="color: lightsteelblue">
      <lh style="color:steelblue">Charts based on data from:</lh>
      <li>https://screenrant.com/harry-potter-movies-rotten-tomatoes-ranked/
      </li>
      <li>https://www.the-numbers.com/movies/franchise/Harry-Potter#tab=summary&franchise_movies_overview=od4</li>
      <li>https://www.imdb.com/list/ls062636319/</li>
      <li>https://www.commonsensemedia.org/search/harry%20potter
      </li>
    </ul>
  </section>


</body>

</html>
